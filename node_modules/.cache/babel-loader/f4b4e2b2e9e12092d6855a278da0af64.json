{"ast":null,"code":"import _defineProperty from \"/www/bolao-csgo-react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/www/bolao-csgo-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/www/bolao-csgo-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/www/bolao-csgo-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/www/bolao-csgo-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/www/bolao-csgo-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/www/bolao-csgo-react/src/Components/Login/Login.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Spinner from \"../Layout/Spinner\";\nimport Form from \"../Layout/Form/Form\";\nimport InputGroup from \"../Layout/InputGroup/InputGroup\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n\n    _this.onSubmit = function (event) {\n      event.preventDefault();\n      var userData = {\n        username: _this.state.username,\n        password: _this.state.password\n      };\n\n      _this.props.onLogin(userData);\n    };\n\n    _this.onChangeHandler = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.state = {\n      username: \"\",\n      password: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.props.isAuthenticated) {\n        setTimeout(function () {\n          _this2.props.history.push(\"/dashboard\");\n        }, 500);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this3 = this;\n\n      if (this.props.isAuthenticated) {\n        setTimeout(function () {\n          _this3.props.history.push(\"/dashboard\");\n        }, 500);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var message = null;\n\n      if (this.props.errors.userNotFound) {\n        message = this.props.errors.userNotFound;\n      } else if (this.props.errors.wrongPassword) {\n        message = this.props.errors.wrongPassword;\n      }\n\n      return this.props.loading ? React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }) : React.createElement(Form, {\n        name: \"login\",\n        sendAction: \"onLogin\",\n        formStyle: \"formBlack\",\n        title: \"Fa\\xE7a o Login\",\n        btStyle: \"formBlack\",\n        btText: \"Entrar\",\n        msgType: \"error\",\n        error: message,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        label: \"Nome de Usuario\",\n        Labeltype: \"login\",\n        htmlFor: \"username\",\n        type: \"text\",\n        name: \"username\",\n        value: this.state.username,\n        changed: this.onChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(InputGroup, {\n        label: \"Senha\",\n        Labeltype: \"login\",\n        htmlFor: \"password\",\n        type: \"password\",\n        name: \"password\",\n        value: this.state.password,\n        changed: this.onChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isAuthenticated: state.auth.isAuthenticated,\n    loading: state.auth.loading,\n    errors: state.auth.errors\n  };\n};\n\nexport default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["/www/bolao-csgo-react/src/Components/Login/Login.jsx"],"names":["React","Component","connect","Spinner","Form","InputGroup","Login","onSubmit","event","preventDefault","userData","username","state","password","props","onLogin","onChangeHandler","setState","target","name","value","isAuthenticated","setTimeout","history","push","message","errors","userNotFound","wrongPassword","loading","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport Spinner from \"../Layout/Spinner\";\nimport Form from \"../Layout/Form/Form\";\nimport InputGroup from \"../Layout/InputGroup/InputGroup\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n  }\n\n  onSubmit = event => {\n    event.preventDefault();\n\n    const userData = {\n      username: this.state.username,\n      password: this.state.password\n    };\n\n    this.props.onLogin(userData);\n  };\n\n  onChangeHandler = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  componentDidMount() {\n    if (this.props.isAuthenticated) {\n      setTimeout(() => {\n        this.props.history.push(\"/dashboard\");\n      }, 500);\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.isAuthenticated) {\n      setTimeout(() => {\n        this.props.history.push(\"/dashboard\");\n      }, 500);\n    }\n  }\n\n  render() {\n    let message = null;\n    if (this.props.errors.userNotFound) {\n      message = this.props.errors.userNotFound;\n    } else if (this.props.errors.wrongPassword) {\n      message = this.props.errors.wrongPassword;\n    }\n\n    return this.props.loading ? (\n      <Spinner />\n    ) : (\n      <Form\n        name=\"login\"\n        sendAction=\"onLogin\"\n        formStyle=\"formBlack\"\n        title=\"FaÃ§a o Login\"\n        btStyle=\"formBlack\"\n        btText=\"Entrar\"\n        msgType=\"error\"\n        error={message}\n      >\n        <InputGroup\n          label=\"Nome de Usuario\"\n          Labeltype=\"login\"\n          htmlFor=\"username\"\n          type=\"text\"\n          name=\"username\"\n          value={this.state.username}\n          changed={this.onChangeHandler}\n        />\n        <InputGroup\n          label=\"Senha\"\n          Labeltype=\"login\"\n          htmlFor=\"password\"\n          type=\"password\"\n          name=\"password\"\n          value={this.state.password}\n          changed={this.onChangeHandler}\n        />\n      </Form>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.isAuthenticated,\n    loading: state.auth.loading,\n    errors: state.auth.errors\n  };\n};\nexport default connect(mapStateToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}